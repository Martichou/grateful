<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
		xmlns:app="http://schemas.android.com/apk/res-auto"
		xmlns:tools="http://schemas.android.com/tools">

	<data>

		<variable
			name="hdl"
			type="me.martichou.be.grateful.fragments.HomeMainFragment"/>

		<variable
			name="thisVm"
			type="me.martichou.be.grateful.viewmodels.MainViewModel"/>
	</data>

	<androidx.coordinatorlayout.widget.CoordinatorLayout
		android:layout_width="match_parent"
		android:layout_height="match_parent">

		<com.google.android.material.appbar.AppBarLayout
			android:id="@+id/app_bar"
			android:layout_width="match_parent"
			android:layout_height="wrap_content"
			android:theme="@style/AppTheme.AppBarOverlay"
			android:fitsSystemWindows="true"
			app:expanded="false">

			<com.google.android.material.appbar.CollapsingToolbarLayout
				android:id="@+id/collapsingToolbarLayout"
				android:layout_width="match_parent"
				android:layout_height="match_parent"
				android:minHeight="?attr/actionBarSize"
				app:contentScrim="?attr/colorPrimary"
				app:layout_scrollFlags="scroll|exitUntilCollapsed"
				app:statusBarScrim="?attr/colorPrimaryDark">

				<LinearLayout
					android:id="@+id/compactcalendar_view_container"
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:paddingTop="?attr/actionBarSize"
					app:layout_collapseMode="parallax"
					app:layout_collapseParallaxMultiplier="1.0">

					<CalendarView
						android:id="@+id/compactcalendar_view"
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:paddingLeft="10dp"
						android:paddingRight="10dp" />

				</LinearLayout>

				<androidx.appcompat.widget.Toolbar
					android:id="@+id/toolbar"
					android:layout_width="match_parent"
					android:layout_height="?attr/actionBarSize"
					app:layout_collapseMode="pin"
					app:popupTheme="@style/AppTheme.PopupOverlay"
					app:contentInsetLeft="0dp"
					app:contentInsetStart="0dp">

					<RelativeLayout
						android:id="@+id/date_picker_button"
						android:layout_width="match_parent"
						android:layout_height="match_parent"
						android:foreground="@drawable/ripple_circle"
						android:gravity="center"
						android:clickable="true"
						android:orientation="vertical"
						android:focusable="true"
						android:onClick="@{hdl::ooccalendar}">

						<androidx.appcompat.widget.AppCompatTextView
							android:id="@+id/title"
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:text="@string/app_name"
							android:ellipsize="end"
							android:maxLines="1"
							android:textAppearance="@style/TextAppearance.Widget.AppCompat.Toolbar.Title"
							android:textColor="@color/black" />

						<androidx.appcompat.widget.AppCompatImageView
							android:id="@+id/date_picker_arrow"
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_alignBottom="@id/title"
							android:layout_toEndOf="@id/title"
							app:srcCompat="@drawable/ic_arrow_drop_down" />

					</RelativeLayout>

				</androidx.appcompat.widget.Toolbar>

			</com.google.android.material.appbar.CollapsingToolbarLayout>

		</com.google.android.material.appbar.AppBarLayout>

		<androidx.constraintlayout.widget.ConstraintLayout
			android:id="@+id/linear_main"
			android:layout_width="match_parent"
			android:layout_height="match_parent"
			android:paddingStart="20dp"
			android:paddingEnd="20dp"
			app:layout_behavior="@string/appbar_scrolling_view_behavior">

			<androidx.recyclerview.widget.RecyclerView
				android:id="@+id/recentNotesList"
				android:layout_width="match_parent"
				android:layout_height="match_parent"
				android:paddingBottom="20dp"
				android:clipToPadding="false"
				app:layout_constraintBottom_toBottomOf="parent"
				app:layout_constraintEnd_toEndOf="parent"
				app:layout_constraintStart_toStartOf="parent"
				app:layout_constraintTop_toTopOf="parent"
				app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
				android:nestedScrollingEnabled="false"
				tools:listitem="@layout/recyclerview_homeitem"/>

			<ProgressBar
				android:id="@+id/loading_ui"
				android:layout_width="75dp"
				android:layout_height="75dp"
				app:layout_constraintBottom_toBottomOf="parent"
				app:layout_constraintEnd_toEndOf="parent"
				app:layout_constraintStart_toStartOf="parent"
				app:layout_constraintTop_toTopOf="parent"
				app:bindIsGone="@{thisVm.hasNotes}"/>

			<androidx.appcompat.widget.AppCompatImageView
				android:id="@+id/nonethinking"
				android:layout_width="match_parent"
				android:layout_height="match_parent"
				android:src="@drawable/thinking"
				android:scaleType="fitCenter"
				android:visibility="gone"/>

		</androidx.constraintlayout.widget.ConstraintLayout>

		<View
			android:id="@+id/shadow"
			android:layout_width="match_parent"
			android:layout_height="8dp"
			android:background="@drawable/bottomappbarshadown"
			app:layout_anchor="@id/bottom_app_bar"/>

		<com.google.android.material.bottomappbar.BottomAppBar
			android:id="@+id/bottom_app_bar"
			android:layout_width="match_parent"
			android:layout_height="wrap_content"
			android:layout_gravity="bottom"
			app:backgroundTint="@color/white"
			app:fabAlignmentMode="center"
			app:fabCradleMargin="0dp"
			app:fabCradleRoundedCornerRadius="0dp"
			app:navigationIcon="@drawable/ic_menu_black"/>

		<com.google.android.material.floatingactionbutton.FloatingActionButton
			android:id="@+id/fab"
			android:layout_width="wrap_content"
			android:layout_height="wrap_content"
			android:onClick="@{hdl::btnNewAction}"
			android:src="@drawable/ic_add_white"
			app:layout_anchor="@id/bottom_app_bar"/>

	</androidx.coordinatorlayout.widget.CoordinatorLayout>

</layout>
